一、本地/CI 对接元数据同步工具的测试用例，准备环境如下：
1. 准备两个 MySQL 实例，实例可同主机也可跨主机。如实例1、实例2同主机且主机名为 A，实例1端口号为 p1，实例2端口号为 p2
/opt/sequoiasql/mysql/bin/sdb_sql_ctl addinst myinst1 -p p1 -D database/p1
/opt/sequoiasql/mysql/bin/sdb_sql_ctl addinst myinst2 -p p2 -D database/p2

2. 在主机 A 初始化 HA 实例组（当 MySQL 跟 SequoiaDB 在同一台机器上时，不需要指定 --host）
/opt/sequoiasql/mysql/bin/ha_inst_group_init xxx --verbose --key yyy --host=localhost:11810
 
3. 将实例1、实例2加入 HA 实例组（见步骤2，HA 的 groupName 为 xxx，key 为 yyy。 注：groupName 和 key 可自定义）
/opt/sequoiasql/mysql/bin/sdb_sql_ctl join myinst1 -g xxx -k yyy
/opt/sequoiasql/mysql/bin/sdb_sql_ctl join myinst2 -g xxx -k yyy

4. 步骤3 join 操作会触发实例重启。实例重启后，可见实例配置文件 auto.cnf 自动新增了如下两个参数：
server_ha_inst_group_name=xxx    
server_ha_inst_group_key=yyy    

5. 步骤3 join 触发实例重启后，可以看到实例1、实例2的数据目录下，生成 myid 这个文件，myid 文件主要是存放每个实例在实例组中的 ID 

6. 步骤3 join 触发实例重启后，登录 sdb shell，可以看到多出了 HA 开头的数据库和表
> db.list(5)
{
  "Name": "HASysGlobalInfo"
}
{
  "Name": "HAInstanceGroup_mysql_sync"
}
Return 2 row(s).

7. 登录实例1，创建普通用户 sdbadmin，为用例执行作准备
mysql> CREATE USER 'sdbadmin'@'%' IDENTIFIED BY 'sdbadmin';
mysql> GRANT all on *.* TO 'sdbadmin'@'%' with grant option;

8. 登录实例2，检查用户 sdbadmin 已正常同步至该实例
mysql> SELECT user,host FROM mysql.user WHERE user = 'sdbadmin';
+----------+------+
| user     | host |
+----------+------+
| sdbadmin | %    |
+----------+------+
1 row in set (0.00 sec)


二、本地/CI 切到 /opt/sequoiasql/mysql/mysql-test，执行一下命令：
./mysql-test-run.pl --suite=metadata_sync_sequoiadb --meta-sync-addr=A:p1,A:p2 --meta-sync-user=sdbadmin --meta-sync-passwd=sdbadmin --retry=1 --retry-failure=1 --force --parallel=2
