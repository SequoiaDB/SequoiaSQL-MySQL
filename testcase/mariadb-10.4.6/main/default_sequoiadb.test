#Case 20326

create database test_default;
use test_default;

# integer
create table t1 ( id int default 0 ) ; 
alter table t1 add column i1 tinyint default 127;
alter table t1 add column i2 smallint default 32767;
alter table t1 add column i3 mediumint default 65536;
alter table t1 add column i4 int default 65537;
alter table t1 add column i5 bigint default 65538;
insert into t1 values (),();
insert into t1 values (1, 10, 100, 1000, 10000, 100000);
select * from t1 order by i1;
alter table t1 alter i1 set default (-2+1);
alter table t1 alter i2 set default (-3-4-2);
alter table t1 alter i3 set default (-4-5);
alter table t1 alter i4 set default (-4*2+8-10);
alter table t1 alter i5 set default (-1*10+200/2-50);
insert into t1 values ();
insert into t1 values (-1, -10, -100, -1000, -10000, -100000);
select * from t1 order by i1;
drop table t1;

# integer unsigned
create table t1 ( id int default 0 ) ;
alter table t1 add column i1 tinyint unsigned default 127;
alter table t1 add column i2 smallint unsigned default 65535;
alter table t1 add column i3 mediumint unsigned default 65536;
alter table t1 add column i4 int unsigned default 65537;
alter table t1 add column i5 bigint unsigned default 65538;
insert into t1 values (),();
insert into t1 values (1, 10, 100, 1000, 10000, 100000);
select * from t1 order by i1;
alter table t1 alter i1 set default (-2+3);
alter table t1 alter i2 set default (1+2);
alter table t1 alter i3 set default (3+4);
alter table t1 alter i4 set default (5+6+7);
alter table t1 alter i5 set default (8*2+9/3+10-11);
insert into t1 values ();
insert into t1 values (11, 111, 1111, 1111, 11111, 111111);
select * from t1 order by i1;
drop table t1;

# float and float unsigned
create table t1 ( id int default 0 ) ;
alter table t1 add column f1 float default -123.456;
alter table t1 add column f2 float unsigned default 123.456;
alter table t1 add column d1 double default -654.321;
alter table t1 add column d2 double unsigned default 654.321;
insert into t1 values (),();
insert into t1 values (1, -3.8e+11, 3.8e+11, -3.8e+300, 3.8e+300);
select * from t1 order by f1;
alter table t1 alter f1 set default (-123.456+456.321*2.222/2);
alter table t1 alter f2 set default (-123.456+456.321*2.222/2);
alter table t1 alter d1 set default (123.456-456.321+9.999*100);
alter table t1 alter d2 set default (123.456-456.321+9.999*100);
insert into t1 values ();
insert into t1 values (-1, -1.111, 1.111, -2.222, 2.222);
select * from t1 order by f1;
drop table t1;

# char and varchar
create table t1 ( id int auto_increment primary key ) ;
alter table t1 add column c1 char(127) default "abc";
alter table t1 add column c2 varchar(255) default "cba";
insert into t1 values (),();
insert into t1(c1,c2) values ("a1", "a12");
select * from t1 order by id;
alter table t1 alter c1 set default concat('e','f','g');
alter table t1 alter c2 set default concat('g','f','e');
insert into t1 values ();
insert into t1(c1,c2) values ("b1", "b12");
select * from t1 order by id;
drop table t1;

# binary and varbinary
create table t1 ( id int auto_increment primary key ) ;
alter table t1 add column b1 binary(127) default "abc";
alter table t1 add column b2 varbinary(255) default "cba";
insert into t1 values (),();
insert into t1(b1,b2) values ("a1", "a12");
select * from t1 order by id;
alter table t1 alter b1 set default concat('e','f','g');
alter table t1 alter b2 set default concat('g','f','e');
insert into t1 values ();
insert into t1(b1,b2) values ("b1", "b12");
select * from t1 order by id;
drop table t1;

# bit
create table t1 ( id int auto_increment primary key ) ;
alter table t1 add column b1 bit(8) default b'1';
insert into t1 values (),();
insert into t1(b1) values (1);
select * from t1 order by id;
alter table t1 alter b1 set default b'111';
insert into t1 values ();
insert into t1(b1) values (b'100');
select * from t1 order by id;
drop table t1;

# blob
create table t1 ( id int auto_increment primary key ) ;
alter table t1 add column b1 tinyblob default "abc";
alter table t1 add column b2 mediumblob default "def";
alter table t1 add column b3 blob default "opt";
alter table t1 add column b4 longblob default "xyz";
insert into t1 values (),();
insert into t1(b1,b2,b3,b4) values ('a1', 'a11', 'a12', 'a13');
select * from t1 order by id;
alter table t1 alter b1 set default concat('t','e','s','t');
alter table t1 alter b2 set default concat('o','1','2','o');
alter table t1 alter b3 set default concat('h','e','l','l', 'o');
alter table t1 alter b4 set default concat('o','k');
insert into t1 values ();
insert into t1(b1,b2,b3,b4) values ('b1', 'b11', 'b12', 'b13');
select * from t1 order by id;
drop table t1;

# text
create table t1 ( id int auto_increment primary key ) ;
alter table t1 add column c1 tinytext default "abc";
alter table t1 add column c2 mediumtext default "def";
alter table t1 add column c3 text default "opt";
alter table t1 add column c4 longtext default "xyz";
insert into t1 values (),();
insert into t1(c1,c2,c3,c4) values ('a1', 'a11', 'a12', 'a13');
select * from t1 order by id;
alter table t1 alter c1 set default concat('t','e','s','t');
alter table t1 alter c2 set default concat('o','1','2','o');
alter table t1 alter c3 set default concat('h','e','l','l', 'o');
alter table t1 alter c4 set default concat('o','k');
insert into t1 values ();
insert into t1(c1,c2,c3,c4) values ('b1', 'b11', 'b12', 'b13');
select * from t1 order by id;
drop table t1;

# set and enum
create table t1 ( id int auto_increment primary key ) ;
alter table t1 add column s1 set('a','b','d','f','o','1') default "a,d,f";
alter table t1 add column e1 enum('0','1','b','c','e') default "0";
insert into t1 values (),();
insert into t1(s1,e1) values ('a,b,d', '1');
select * from t1 order by id;
alter table t1 alter s1 set default concat('o',',','1');
alter table t1 alter e1 set default "b";
insert into t1 values ();
insert into t1(s1,e1) values ('f,1', 'e');
select * from t1 order by id;
drop table t1;

# date, datetime, time and timestamp
create table t1 ( id int auto_increment primary key ) ;
alter table t1 add column d1 date default '1970-01-01';
alter table t1 add column d2 datetime default '1970-01-01 23:59:59';
alter table t1 add column d3 time default '10:10:10';
alter table t1 add column d4 timestamp default '2000-01-01 10:10:10';
insert into t1 values (),();
insert into t1(d1,d2,d3,d4) values ('2010-10-10', '2010-10-10 22:00:00', '23:59:59', '2011-11-11 11:11:11');
select * from t1 order by id;
alter table t1 alter d1 set default concat('2000','-','12','-','29');
alter table t1 alter d2 set default concat('2000','-','12','-','29',' ','07',':','07',':','07');
alter table t1 alter d3 set default concat('00',':','00',':','00');
alter table t1 alter d4 set default concat('2013','-','03','-','03',' ','12',':','13',':','14');
insert into t1 values ();
insert into t1(d1,d2,d3,d4) values ('2020-01-01', '2020-01-01 00:00:00', '23:59:59', '2019-11-11 11:11:11');
select * from t1 order by id;
drop table t1;

drop database test_default;
